<html 
    xmlns:jsp="http://java.sun.com/JSP/Page"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:tiles="http://tiles.apache.org/tags-tiles"
    xmlns:spring="http://www.springframework.org/tags"
    xmlns:form="http://www.springframework.org/tags/form">

    <jsp:output doctype-root-element="HTML" doctype-system="about:legacy-compat" />
    <jsp:directive.page contentType="text/html;charset=UTF-8" />
    <jsp:directive.page pageEncoding="UTF-8" />
    
    <head>
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=8" />
        
        <spring:url value="/resources/scripts/globalize.js" var="globalizeUrl" />
        <script src="${globalizeUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/scripts/jquery-1.10.2.js" var="jQueryUrl" />
        <script src="${jQueryUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/scripts/jquery-ui-1.10.3.custom.js" var="jQueryUiUrl" />
        <script src="${jQueryUiUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/styles/jquery-ui-1.10.3.custom.css" var="jQueryUiThemeUrl" />
        <link rel="stylesheet" type="text/css" media="screen" href="${jQueryUiThemeUrl}" />
        
        <spring:url value="/resources/scripts/jquery.mousewheel.js" var="mousewheelUrl" />
        <script src="${mousewheelUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/jqgrid/js/jquery.jqGrid.min.js" var="jqGridUrl" />
        <script src="${jqGridUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/jqgrid/css/ui.jqgrid.css" var="jqGridCssUrl" />
        <link rel="stylesheet" type="text/css" media="screen" href="${jqGridCssUrl}" />
        
        <spring:url value="/resources/jqgrid/js/i18n/grid.locale-en.js" var="jqGridLocaleUrl" />
        <script src="${jqGridLocaleUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/scripts/Chart.js" var="chartJsUrl" />
        <script src="${chartJsUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/scripts/widgets.js" var="widgetsUrl" />
        <script src="${widgetsUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/scripts/reports.js" var="reportsUrl" />
        <script src="${reportsUrl}" type="text/javascript"><jsp:text /></script>
        
        <spring:url value="/resources/styles/standart.css" var="standartCssUrl" />
        <link rel="stylesheet" type="text/css" media="screen" href="${standartCssUrl}" />
        
        <title><spring:message code="report.title" /> - <spring:message code="app.name" /></title>
    </head>
    <body>
    	<div id="header">
	    	<a id="logout" href="logout">
				<spring:message code="logout" />
			</a>
    		<div id="calendar">
    			<spring:url value="/report/${report}/moment" var="momentUrl" />
				<form:form action="${momentUrl}" modelAttribute="period" method="post" enctype="multipart/form-data">
					<button type="submit">
						<spring:message code="ok" />
					</button>
					<form:input path="moment" class="datePicker" />
				</form:form>
			</div>
			<ul>
				<spring:url value="/report/pay/update" var="addPayUrl" />
				<li><a href="${addPayUrl}">+</a></li>
				
				<spring:url value="/report/pay" var="payUrl" />
				<li><a href="${payUrl}" class="${paySelected}">
					<spring:message code="report.pay" /> (${payCount}: $${total})
				</a></li>
				
				<spring:url value="/report/debt/update" var="addDebtUrl" />
				<li><a href="${addDebtUrl}">+</a></li>
				
				<spring:url value="/report/debt" var="debtUrl" />
				<li><a href="${debtUrl}" class="${debtSelected}">
					<spring:message code="report.debt" /> (${debtCount}: $${unpaid})
				</a></li>
				
				<spring:url value="/report/budget" var="budgetUrl" />
				<li><a href="${budgetUrl}" class="${budgetSelected}">
					<spring:message code="report.budget" /> ($${balance})
				</a></li>
				
				<spring:url value="/report/graph" var="graphUrl" />
				<li><a href="${graphUrl}" class="${graphSelected}">
					<spring:message code="report.graph" />
				</a></li>
				
				<li><a href="#" data-report="${report}" id="update">
					<spring:message code="report.update" />
				</a></li>
				
				<li><a href="#" data-report="${report}" id="delete">
					<spring:message code="report.delete" />
				</a></li>
			</ul>
		</div>
		<tiles:insertAttribute name="body" />
		<div id="dialog"><jsp:text /></div>
    </body>
</html>